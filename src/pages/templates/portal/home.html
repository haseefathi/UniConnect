{% load widget_tweaks %} {% load static %}

<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Font Awesome JS -->
    <script src="https://kit.fontawesome.com/b99e675b6e.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

    <link rel="stylesheet" href="{%  static 'css/portal-stylesheets/home-style.css' %}">
</head>

<ul class="breadcrumb">
    <li>> Home</li>
</ul>

<p class="main-heading">Connect</p>

<div class="section description">
    <p class="section-heading">Connect with other students!</p>
    <p>Get connected with other students to improve your admission experience. Your profile is currently <strong>{% if user.publicprofile.profile_public %}Public{% else %}Private{% endif %}.</strong></p>
    <p>You can change the visibility of your profile in the profile section.</p>
</div>


<div class="filter_side_by_side">
    <div class="filter_section">
        <fieldset>
            <legend>Filters</legend>

            <section>
                <p>Name: <input type="text" name="filter_user_name" id="filter_user_name" class="filter_form_field" placeholder="Name of user" onkeyup="filter_users('name')"></p>
            </section>
            <hr>

            <section>
                <p>Gender</p>
                <input type="checkbox" id="female_checkbox" name="female_checkbox" value="f">
                <label for="female_checkbox"> Male</label> &nbsp;
                <input type="checkbox" id="male_checkbox" name="male_checkbox" value="m">
                <label for="male_checkbox"> Female</label><br>
            </section>
            <hr>

            <section>
                <p>Accepted University</p>
                <input type="text" name="accepted_uni_filter" id="accepted_uni_filter" class="filter_form_field" list="accepted_uni_list" placeholder="University Name" onkeyup="filter_users('uni')">
            </section>
            <hr>

            <section>
                <p>Origin Address</p>
                <input type="text" name="filter_origin_city" id="filter_origin_city" class="filter_form_field" placeholder="Origin City" list="cities" onkeyup="filter_users('o_city')">
                <input type="text" name="filter_origin_country" id="filter_origin_country" class="filter_form_field" placeholder="Origin Country" list="countries" onkeyup="filter_users('o_country')">
            </section>
            <hr>

            <section>
                <p>Destination Address</p>
                <input type="text" name="filter_dest_city" id="filter_dest_city" class="filter_form_field" list="cities" placeholder="Destination City" onkeyup="filter_users('d_city')">
                <input type="text" name="filter_dest_country" id="filter_dest_country" class="filter_form_field" list="countries" placeholder="Destination Country" onkeyup="filter_users('d_country')">
            </section>
            <hr>


            <!-- ---------------------------- all datalists ------------------------------------ -->

            <datalist id="accepted_uni_list">   
                {% for uni in universities %}
                    <option value="{{ uni }}">{{ uni }}</option>
                {% endfor %}
            </datalist>

            <datalist id="cities">
                {% for city in cities %}
                    <option value="{{ city }}">{{ city }}</option>
                {% endfor %}
            </datalist>

            <datalist id="countries">
                {% for country in countries %}
                    <option value="{{ country.name }}">{{ country.name }}</option>
                {% endfor %}
            </datalist>

        </fieldset>

    </div>

    <div class="user_container">
        <fieldset>
            <legend>Users</legend>

            <div class="user_list_container" id="outer_user_container">

                {% for user in connect_users %}
                <div class="user_cell">
                    <div class="user_details">
                        <ul class="user_details_list_container">
                            <li class="picture_container">{% if user.graduateadmissionsprofile.gender == 'M' %}
                                <img src="https://www.kavs.uniza.sk/images/Avatar_img/avatar-user-student-3e3e52aa56aeb627-512x512.png" alt="profile_pic" class="profile_picture"> {% else %}
                                <img src="https://cdn.iconscout.com/icon/premium/png-512-thumb/female-avatar-12-774634.png" alt="profile_pic" class="profile_picture"> {% endif %}</li>
                            <li class="name_container"><strong>Name</strong><br><span class="name_value">{{user.first_name|title}} {{user.last_name|title}}</span></li>

                            <li class="university_container"><strong>Accepted University</strong><br><span class="university_value">{{user.publicprofile.accepted_university}}</span></li>

                            <li class="from_container"><strong>From</strong><br><span class="o_city_value">{{user.publicprofile.origin_city}}</span>, <span class="o_country_value">{{user.publicprofile.origin_country.name}} </span><img src="{{user.publicprofile.origin_country.flag}}"
                                    alt=""></li>

                            <li class="destination_container"><strong>Destination</strong><br><span class="d_city_value">{{user.publicprofile.destination_city}}</span>, <span class="d_country_value">{{user.publicprofile.destination_country.name}}</span> <img src="{{user.publicprofile.destination_country.flag}}"
                                    alt=""></li>
                            <li class="button_container"><button>Profile</button></li>
                        </ul>

                    </div>
                </div>
                {% endfor %}
            </div>

        </fieldset>
    </div>

</div>